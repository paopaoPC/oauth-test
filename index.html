<html>
<head>
	<meta charset="UTF-8">
	<meta n-head="true" name="viewport" content="width=device-width, initial-scale=1">
	<title>oauth-test</title>
</head>
<style>
	html, body{
		width: 100%;
		padding: 0;
		margin: 0;
	}
	button {
		margin: auto;
		margin-top: 50px;
		background: blanchedalmond;
	    width: 70%;
	    height: 50px;
	    display: none;
	}

</style>
<script>
function getQueryString(name){
     var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
     var r = window.location.search.substr(1).match(reg);
     if(r!=null)return  decodeURIComponent(r[2]); return null;
}

</script>
<body>
	<button id='bt1'>成功</button>
	<button id='bt2'>失败</button>
</body>
<script>
	var code = getQueryString('code')
	if(code){
		document.getElementById('bt1').style.display = 'block'
		alert(parent.window._jingdong_oauth_get_access_token)
		parent && parent.window._jingdong_oauth_get_access_token && parent.window._jingdong_oauth_get_access_token(code)
	} else {
		document.getElementById('bt2').style.display = 'block'
	}
</script>
</html>